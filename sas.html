/* Especifica el nombre de la librería */
%let libname = mi_libreria;

/* Especifica la ruta de la librería */
%let libpath = /SASD/INSU/RAW;

/* Define la macro variable para almacenar los nombres de carpeta */
%let folderlist = ;

/* Abre el directorio de la librería */
%let did = %sysfunc(diropen("&libpath./&libname."));

/* Lee los nombres de carpeta dentro de la librería */
%do %while(%sysfunc(diread(&did)) = 0);
  %let fname = %qsysfunc(dirname(&did));
  %if %sysfunc(directory(&did, %str(%bquote(&fname)), d)) %then %do;
    %let folderlist = &folderlist. &fname.;
  %end;
%end;

/* Cierra el directorio de la librería */
%let rc = %sysfunc(dirclose(&did));

/* Muestra la lista de nombres de carpeta */
%put Carpetas en la librería &libname.: &folderlist.;
